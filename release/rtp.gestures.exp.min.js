(function(){var a={add:function(a){var c=a.handler;a.handler=function(a){var b=c.call(this,a);if(!1==b||a.isPropagationStopped()){var k=a.type,d=a.isTrigger,e=a.isPropagationStopped,f=a.isImmediatePropagationStopped;a.type="trap"+a.type;a.isPropagationStopped=function(){return!1};a.isImmediatePropagationStopped=function(){return!1};jQuery(a.currentTarget).parent().trigger(a);a.type=k;a.isTrigger=d;e&&a.stopPropagation();f&&a.stopImmediatePropagation();if("undefined"!=typeof b)return b}}}};jQuery.event.special.mouseup=
a;jQuery.event.special.mouseout=a;jQuery.event.special.mouseover=a;jQuery.event.special.mousemove=a;jQuery.event.special.mousedown=a;jQuery.event.special.touchend=a;jQuery.event.special.touchmove=a;jQuery.event.special.touchstart=a;jQuery.event.special.touchcancel=a})();if("undefined"==typeof OCBNET)var OCBNET={};var isChromium=window.chrome,vendorName=window.navigator.vendor,decideScrollOrPanOnFirst=null!==isChromium&&"Google Inc."===vendorName;
(function(a){var b={},c=[],g=0,h={};OCBNET.Gestures=function(b,d){this.el=b;this.config=a.extend({"native":{},swipeSectors:2,swipeMinDistance:15,decideOnFirst:decideScrollOrPanOnFirst},d,!0);this.id=g++;c.push(this);this.maximum=this.fingers=0;this.finger={};this.ordered=[];this.surface=h;a(b).bind("dragstart",function(){return!1});for(var e=0,f=this.init.length;e<f;e++)this.init[e].apply(this,arguments)};OCBNET.Gestures.fingerup=function(a){for(var d=c.length;d--;)c[d].fingerUp(a);b[a.id]&&(b[a.id].x=
a.x,b[a.id].y=a.y)};OCBNET.Gestures.fingermove=function(a){var d=h[a.id];if("undefined"!=typeof d){for(var e=0,f=d.length;e<f&&(d[e].fingerMove(a),!a.isPropagationStopped());e++);b[a.id].x=a.x;b[a.id].y=a.y}};OCBNET.Gestures.fingersmove=function(b){for(var d in h){var e=a.Event("fingermove",{id:d,x:b.x,y:b.y,originalEvent:b});OCBNET.Gestures.fingermove(e)}};OCBNET.Gestures.fingersup=function(b){for(var d=c.length;d--;)for(var e in c[d].finger){var f=a.Event("fingerup",{id:e,x:b.x,y:b.y,originalEvent:b});
c[d].fingerUp(f)}};OCBNET.Gestures.Finger=function(a){this.id=a.id;this.x=a.x;this.y=a.y};(function(c){c.init=[];c.fingerDown=function(d){var e=new OCBNET.Gestures.Finger(d);"undefined"==typeof b[d.id]&&(b[d.id]=new OCBNET.Gestures.Finger(d));d=new a.Event("handstart",{dx:0,dy:0,finger:e,gesture:this,originalEvent:d});a(this.el).triggerHandler(d);d.isDefaultPrevented()||this.hasFinger(e.id)||(this.fingers++,this.maximum<this.fingers&&(this.maximum=this.fingers),this.ordered.push(e.id),this.finger[e.id]=
e,this.start={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()},this.offset={x:0,y:0},this.center=this.start.center,this.distance=this.rotation=0,h[e.id]||(h[e.id]=[]),h[e.id].push(this),this.move=a.extend({},this.start))};c.fingerMove=function(d){var e=d.id;if(this.hasFinger(e)){var f=this.getFinger(e);f.x=d.x;f.y=d.y;var h=b[e].x-d.x,c=b[e].y-d.y;this.move={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};this.offset={x:this.move.center.x-
this.start.center.x,y:this.move.center.y-this.start.center.y};this.center=this.move.center;this.rotation=this.move.rotation-this.start.rotation;this.distance=this.move.distance-this.start.distance;var e=Math.abs(this.offset.x),g=Math.abs(this.offset.y);d={dx:h,dy:c,finger:f,gesture:this,originalEvent:d};a(this.el).triggerHandler(new a.Event("handmove",d));"undefined"==typeof this.swipeSector&&(this.config.decideOnFirst||Math.pow(this.config.swipeMinDistance,2)<e*e+g*g)&&(f=180*Math.atan2(g,e)/Math.PI,
this.swipeSector=parseInt(f/90*this.config.swipeSectors,10),this.swipeSector=Math.min(this.swipeSector,this.config.swipeSectors-1));"undefined"!=typeof this.swipeSector&&a(this.el).triggerHandler(new a.Event("handswipe",d));1<this.fingers&&a(this.el).triggerHandler(new a.Event("handtransform",d))}};c.fingerUp=function(d){var e=d.id;if(this.hasFinger(e)){var f=this.getFinger(e);f.x=d.x;f.y=d.y;var c=b[e].x-d.x;d=b[e].y-d.y;this.stop={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};
this.offset={x:this.stop.center.x-this.start.center.x,y:this.stop.center.y-this.start.center.y};this.center=this.stop.center;this.rotation=this.stop.rotation-this.start.rotation;this.distance=this.stop.distance-this.start.distance;c=new a.Event("handstop",{dx:c,dy:d,finger:f,gesture:this});a(this.el).triggerHandler(c);this.fingers--;delete this.offset;delete this.rotation;delete this.distance;delete this.swipeSector;f=a.inArray(f.id,this.ordered);this.ordered.splice(f,1);delete this.finger[e];f=a.inArray(this,
h[e]);-1!=f&&h[e].splice(f,1);0==h[e].length&&(delete b[e],delete h[e])}};c.getCenter=function(){var a={x:0,y:0},b;for(b in this.finger){var f=this.finger[b];a.x+=f.x;a.y+=f.y}this.fingers&&(a.x/=this.fingers,a.y/=this.fingers);return a};c.getRotation=function(){if(2>this.fingers)return 0;for(var a=0,b=0,f=0,h=0,c=this.ordered.length;h<c;h++)for(var g=this.finger[this.ordered[h]],k=h+1;k<c;k++){f++;var l=this.finger[this.ordered[k]],a=a+(l.x-g.x),b=b+(l.y-g.y)}return 180*Math.atan2(b/f,a/f)/Math.PI};
c.getDistance=function(){if(2>this.fingers)return 0;for(var a=0,b=0,h=0,c=0,g=this.ordered.length;c<g;c++)for(var k=this.finger[this.ordered[c]],m=c+1;m<g;m++){h++;var l=this.finger[this.ordered[m]],a=a+Math.abs(l.x-k.x),b=b+Math.abs(l.y-k.y)}a/=h;b/=h;return Math.sqrt(a*a+b*b)};c.hasFinger=function(a){return a in this.finger};c.getFinger=function(a){return this.finger[a]}})(OCBNET.Gestures.prototype);a.fn.gesture=function(b){a(this).each(function(h,c){var f=a(c).data("gesture");if("undefined"==typeof f)f=
new OCBNET.Gestures(c,b),a(c).data("gesture",f);else{if(0<f.fingers)throw"fatal: live config change";a.extend(f.config,b,!0)}});return this}})(jQuery);
(function(a){"ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||(function(b){b.init.push(function(b){var g=this;a(b).bind("mousedown",function(b){var c=a(b.currentTarget).data("gesture");c!==g&&eval("alert('assertion')");b=new a.Event("fingerdown",{type:"mouse",id:b.which,x:b.screenX,y:b.screenY,originalEvent:b});c.fingerDown(b)})})}(OCBNET.Gestures.prototype),a(document).bind("mouseup trapmouseup",function(b){0>b.clientX||0>b.clientY||b.clientX>a(window).width()||
b.clientY>a(window).height()?(b=new a.Event("fingersup",{type:"mouse",x:b.screenX,y:b.screenY,originalEvent:b}),OCBNET.Gestures.fingersup(b)):(b=new a.Event("fingerup",{type:"mouse",id:b.which,x:b.screenX,y:b.screenY,originalEvent:b}),OCBNET.Gestures.fingerup(b))}),a(document).bind("mousemove",function(b){b=a.Event("fingersmove",{type:"mouse",x:b.screenX,y:b.screenY,originalEvent:b});OCBNET.Gestures.fingersmove(b)}))})(jQuery);
(function(a){"ontouchstart"in window&&!(window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints)&&(function(b){b.init.push(function(b){var g=this;a(b).bind("touchstart",function(b){var c=b.originalEvent.changedTouches||[],d=a(b.currentTarget).data("gesture");d!==g&&eval("alert('assertion')");a(c).each(function(c,f){var g=new a.Event("fingerdown",{type:"touch",x:f.screenX,y:f.screenY,id:f.identifier,originalEvent:b});d.fingerDown(g)})});a(b).bind("handswipe",function(a){2==a.gesture.config.swipeSectors&&
(0===a.gesture.swipeSector&&a.gesture.config["native"].panY&&a.preventDefault(),1===a.gesture.swipeSector&&a.gesture.config["native"].panX&&a.preventDefault())})})}(OCBNET.Gestures.prototype),a(document).bind("touchend touchcancel",function(b){a(b.originalEvent.changedTouches||[]).each(function(c,g){var h=a.Event("fingerup",{type:"touch",x:g.screenX,y:g.screenY,id:g.identifier,originalEvent:b});OCBNET.Gestures.fingerup(h)})}),a(document).bind("touchmove",function(b){a(b.originalEvent.changedTouches||
[]).each(function(c,g){var h=a.Event("fingermove",{type:"touch",x:g.screenX,y:g.screenY,id:g.identifier,originalEvent:b});OCBNET.Gestures.fingermove(h)})}))})(jQuery);
(function(a){window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints&&(function(b){b.init.push(function(b){var g=this;a(b).bind("MSPointerDown",function(b){var c=b.originalEvent,d=a(b.currentTarget).data("gesture");d!==g&&eval("alert('assertion')");b=new a.Event("fingerdown",{type:"pointer",x:c.pageX,y:c.pageY,id:c.pointerId,originalEvent:b});d.fingerDown(b)}).css("msTouchAction","none")})}(OCBNET.Gestures.prototype),a(document).bind("MSPointerUp",function(b){var c=b.originalEvent;
b=new a.Event("fingerup",{type:"pointer",x:c.pageX,y:c.pageY,id:c.pointerId,originalEvent:b});OCBNET.Gestures.fingerup(b)}),a(document).bind("MSPointerMove",function(b){var c=b.originalEvent;b=a.Event("fingermove",{type:"pointer",x:c.pageX,y:c.pageY,id:c.pointerId,originalEvent:b});OCBNET.Gestures.fingermove(b)}))})(jQuery);
