(function(){var a={add:function(a){var h=a.handler;a.handler=function(a){var b=h.call(this,a);if(!1==b||a.isPropagationStopped()){var k=a.type,c=a.isTrigger,f=a.isPropagationStopped,e=a.isImmediatePropagationStopped;a.type="trap"+a.type;a.isPropagationStopped=function(){return!1};a.isImmediatePropagationStopped=function(){return!1};jQuery(a.currentTarget).parent().trigger(a);a.type=k;a.isTrigger=c;f&&a.stopPropagation();e&&a.stopImmediatePropagation();if("undefined"!=typeof b)return b}}}};"onmousedown"in
window&&(jQuery.event.special.mouseup=a,jQuery.event.special.mouseout=a,jQuery.event.special.mouseover=a,jQuery.event.special.mousemove=a,jQuery.event.special.mousedown=a);"ontouchstart"in window&&(jQuery.event.special.touchend=a,jQuery.event.special.touchmove=a,jQuery.event.special.touchstart=a,jQuery.event.special.touchcancel=a);window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints?(jQuery.event.special.pointerup=a,jQuery.event.special.pointermove=a,jQuery.event.special.pointerdown=
a,jQuery.event.special.pointercancel=a):window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints&&(jQuery.event.special.MSPointerUp=a,jQuery.event.special.MSPointerMove=a,jQuery.event.special.MSPointerDown=a,jQuery.event.special.MSPointerCancel=a)})();if("undefined"==typeof OCBNET)var OCBNET={};var isChromium=window.chrome,vendorName=window.navigator.vendor,decideScrollOrPanOnFirst=null!==isChromium&&"Google Inc."===vendorName;
(function(a){var b={},h=[],d=0,g={};OCBNET.Gestures=function(b,c){this.el=b;this.config=a.extend({"native":{},swipeSectors:2,swipeMinDistance:15,decideOnFirst:decideScrollOrPanOnFirst},c,!0);this.id=d++;h.push(this);this.maximum=this.fingers=0;this.finger={};this.ordered=[];this.surface=g;a(b).bind("dragstart",function(){return!1});for(var f=0,e=this.init.length;f<e;f++)this.init[f].apply(this,arguments)};OCBNET.Gestures.fingerup=function(a){for(var c=h.length;c--;)h[c].fingerUp(a);b[a.id]&&(b[a.id].x=
a.x,b[a.id].y=a.y)};OCBNET.Gestures.fingermove=function(a){var c=g[a.id];if("undefined"!=typeof c){for(var f=0,e=c.length;f<e&&(c[f].fingerMove(a),!a.isPropagationStopped());f++);b[a.id].x=a.x;b[a.id].y=a.y}};OCBNET.Gestures.fingersmove=function(b){for(var c in g){var f=a.Event("fingermove",{id:c,x:b.x,y:b.y,originalEvent:b});OCBNET.Gestures.fingermove(f)}};OCBNET.Gestures.fingersup=function(b){for(var c=h.length;c--;)for(var f in h[c].finger){var e=a.Event("fingerup",{id:f,x:b.x,y:b.y,originalEvent:b});
h[c].fingerUp(e)}};OCBNET.Gestures.Finger=function(a){this.id=a.id;this.x=a.x;this.y=a.y};(function(d){d.init=[];d.fingerDown=function(c){var f=new OCBNET.Gestures.Finger(c);"undefined"==typeof b[c.id]&&(b[c.id]=new OCBNET.Gestures.Finger(c));c=new a.Event("handstart",{dx:0,dy:0,finger:f,gesture:this,originalEvent:c});a(this.el).triggerHandler(c);c.isDefaultPrevented()||this.hasFinger(f.id)||(this.fingers++,this.maximum<this.fingers&&(this.maximum=this.fingers),this.ordered.push(f.id),this.finger[f.id]=
f,this.start={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()},this.offset={x:0,y:0},this.center=this.start.center,this.distance=this.rotation=0,g[f.id]||(g[f.id]=[]),g[f.id].push(this),this.move=a.extend({},this.start))};d.fingerMove=function(c){var f=c.id;if(this.hasFinger(f)){var e=this.getFinger(f);e.x=c.x;e.y=c.y;var g=b[f].x-c.x,d=b[f].y-c.y;this.move={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};this.offset={x:this.move.center.x-
this.start.center.x,y:this.move.center.y-this.start.center.y};this.center=this.move.center;this.rotation=this.move.rotation-this.start.rotation;this.distance=this.move.distance-this.start.distance;var f=Math.abs(this.offset.x),h=Math.abs(this.offset.y);c={dx:g,dy:d,finger:e,gesture:this,originalEvent:c};a(this.el).triggerHandler(new a.Event("handmove",c));"undefined"==typeof this.swipeSector&&(this.config.decideOnFirst||Math.pow(this.config.swipeMinDistance,2)<f*f+h*h)&&(e=180*Math.atan2(h,f)/Math.PI,
this.swipeSector=parseInt(e/90*this.config.swipeSectors,10),this.swipeSector=Math.min(this.swipeSector,this.config.swipeSectors-1));"undefined"!=typeof this.swipeSector&&a(this.el).triggerHandler(new a.Event("handswipe",c));1<this.fingers&&a(this.el).triggerHandler(new a.Event("handtransform",c))}};d.fingerUp=function(c){var f=c.id;if(this.hasFinger(f)){var e=this.getFinger(f);e.x=c.x;e.y=c.y;var d=b[f].x-c.x;c=b[f].y-c.y;this.stop={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};
this.offset={x:this.stop.center.x-this.start.center.x,y:this.stop.center.y-this.start.center.y};this.center=this.stop.center;this.rotation=this.stop.rotation-this.start.rotation;this.distance=this.stop.distance-this.start.distance;d=new a.Event("handstop",{dx:d,dy:c,finger:e,gesture:this});a(this.el).triggerHandler(d);this.fingers--;delete this.offset;delete this.rotation;delete this.distance;delete this.swipeSector;e=a.inArray(e.id,this.ordered);this.ordered.splice(e,1);delete this.finger[f];e=a.inArray(this,
g[f]);-1!=e&&g[f].splice(e,1);0==g[f].length&&(delete b[f],delete g[f])}};d.getCenter=function(){var a={x:0,y:0},b;for(b in this.finger){var e=this.finger[b];a.x+=e.x;a.y+=e.y}this.fingers&&(a.x/=this.fingers,a.y/=this.fingers);return a};d.getRotation=function(){if(2>this.fingers)return 0;for(var a=0,b=0,e=0,g=0,d=this.ordered.length;g<d;g++)for(var h=this.finger[this.ordered[g]],k=g+1;k<d;k++){e++;var l=this.finger[this.ordered[k]],a=a+(l.x-h.x),b=b+(l.y-h.y)}return 180*Math.atan2(b/e,a/e)/Math.PI};
d.getDistance=function(){if(2>this.fingers)return 0;for(var a=0,b=0,e=0,g=0,d=this.ordered.length;g<d;g++)for(var h=this.finger[this.ordered[g]],k=g+1;k<d;k++){e++;var l=this.finger[this.ordered[k]],a=a+Math.abs(l.x-h.x),b=b+Math.abs(l.y-h.y)}a/=e;b/=e;return Math.sqrt(a*a+b*b)};d.hasFinger=function(a){return a in this.finger};d.getFinger=function(a){return this.finger[a]}})(OCBNET.Gestures.prototype);a.fn.gesture=function(b){a(this).each(function(g,d){var e=a(d).data("gesture");if("undefined"==typeof e)e=
new OCBNET.Gestures(d,b),a(d).data("gesture",e);else{if(0<e.fingers)throw"fatal: live config change";a.extend(e.config,b,!0)}});return this}})(jQuery);
(function(a){"ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||(function(b){b.init.push(function(b){var d=this;a(b).bind("mousedown",function(b){var h=a(b.currentTarget).data("gesture");h!==d&&eval("alert('assertion')");b=new a.Event("fingerdown",{type:"mouse",id:b.which,x:b.screenX,y:b.screenY,originalEvent:b});h.fingerDown(b)})})}(OCBNET.Gestures.prototype),a(document).bind("mouseup trapmouseup",function(b){0>b.clientX||0>b.clientY||b.clientX>a(window).width()||
b.clientY>a(window).height()?(b=new a.Event("fingersup",{type:"mouse",x:b.screenX,y:b.screenY,originalEvent:b}),OCBNET.Gestures.fingersup(b)):(b=new a.Event("fingerup",{type:"mouse",id:b.which,x:b.screenX,y:b.screenY,originalEvent:b}),OCBNET.Gestures.fingerup(b))}),a(document).bind("mousemove",function(b){b=a.Event("fingersmove",{type:"mouse",x:b.screenX,y:b.screenY,originalEvent:b});OCBNET.Gestures.fingersmove(b)}))})(jQuery);
(function(a){"ontouchstart"in window&&!(window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints)&&(function(b){b.init.push(function(b){var d=this;a(b).bind("touchstart",function(b){var h=b.originalEvent.changedTouches||[],c=a(b.currentTarget).data("gesture");c!==d&&eval("alert('assertion')");a(h).each(function(d,e){var h=new a.Event("fingerdown",{type:"touch",x:e.clientX||e.screenX,y:e.clientY||e.screenY,id:e.identifier,originalEvent:b});c.fingerDown(h)})});a(b).bind("handswipe",function(a){2==
a.gesture.config.swipeSectors&&(0===a.gesture.swipeSector&&a.gesture.config["native"].panY&&a.preventDefault(),1===a.gesture.swipeSector&&a.gesture.config["native"].panX&&a.preventDefault())})})}(OCBNET.Gestures.prototype),a(document).bind("touchend touchcancel",function(b){a(b.originalEvent.changedTouches||[]).each(function(h,d){var g=a.Event("fingerup",{type:"touch",x:d.clientX||d.screenX,y:d.clientY||d.screenY,id:d.identifier,originalEvent:b});OCBNET.Gestures.fingerup(g)})}),a(document).bind("touchmove",
function(b){a(b.originalEvent.changedTouches||[]).each(function(h,d){var g=a.Event("fingermove",{type:"touch",x:d.clientX||d.screenX,y:d.clientY||d.screenY,id:d.identifier,originalEvent:b});OCBNET.Gestures.fingermove(g)})}))})(jQuery);
(function(a){if(window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints){var b={up:"MSPointerUp",move:"MSPointerMove",down:"MSPointerDown",cancel:"MSPointerCancel",action:"ms-touch-action"};window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints&&(b={up:"pointerup",move:"pointermove",down:"pointerdown",cancel:"pointercancel",action:"touch-action"});(function(d){d.init.push(function(d){var h=this,c=[],f=this.config["native"]||{};f.panY&&c.push("pan-y");f.panX&&c.push("pan-x");
0==c.length&&c.push("none");a(d).bind(b.down,function(b){var d=b.originalEvent,c=a(b.currentTarget).data("gesture");c!==h&&eval("alert('assertion')");b=new a.Event("fingerdown",{type:"pointer",x:d.pageX,y:d.pageY,id:d.pointerId,originalEvent:b});c.fingerDown(b)}).css(b.action,c.join(" "))})})(OCBNET.Gestures.prototype);var h=[b.up,b.cancel].join(" ");a(document).bind(h,function(b){var g=b.originalEvent;b=new a.Event("fingerup",{type:"pointer",x:g.pageX,y:g.pageY,id:g.pointerId,originalEvent:b});OCBNET.Gestures.fingerup(b)});
a(document).bind(b.move,function(b){var g=b.originalEvent;b=a.Event("fingermove",{type:"pointer",x:g.pageX,y:g.pageY,id:g.pointerId,originalEvent:b});OCBNET.Gestures.fingermove(b)})}})(jQuery);
