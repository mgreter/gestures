(function(){var a={add:function(a){var e=a.handler;a.handler=function(a){var b=e.call(this,a);if(!1==b||a.isPropagationStopped()){var k=a.type,d=a.isTrigger,c=a.isPropagationStopped,h=a.isImmediatePropagationStopped;a.type="trap"+a.type;a.isPropagationStopped=function(){return!1};a.isImmediatePropagationStopped=function(){return!1};jQuery(a.currentTarget).parent().trigger(a);a.type=k;a.isTrigger=d;c&&a.stopPropagation();h&&a.stopImmediatePropagation();if("undefined"!=typeof b)return b}}}};jQuery.event.special.mouseup=
a;jQuery.event.special.mouseout=a;jQuery.event.special.mouseover=a;jQuery.event.special.mousemove=a;jQuery.event.special.mousedown=a;jQuery.event.special.touchend=a;jQuery.event.special.touchmove=a;jQuery.event.special.touchstart=a;jQuery.event.special.touchcancel=a})();if("undefined"==typeof OCBNET)var OCBNET={};var isChromium=window.chrome,vendorName=window.navigator.vendor,decideScrollOrPanOnFirst=null!==isChromium&&"Google Inc."===vendorName;
(function(a){var b={},e=[],f=0,g={};OCBNET.Gestures=function(k,d){this.el=k;this.config=a.extend({"native":{},swipeSectors:2,swipeMinDistance:15,decideOnFirst:decideScrollOrPanOnFirst},d,!0);this.id=f++;e.push(this);this.maximum=this.fingers=0;this.finger={};this.ordered=[];this.surface=g;a(k).bind("dragstart",function(){return!1});for(var c=0,b=this.init.length;c<b;c++)this.init[c].apply(this,arguments)};OCBNET.Gestures.fingerup=function(a){for(var d=e.length;d--;)e[d].fingerUp(a);b[a.id]&&(b[a.id].x=
a.x,b[a.id].y=a.y)};OCBNET.Gestures.fingermove=function(a){var d=g[a.id];if("undefined"!=typeof d){for(var c=0,h=d.length;c<h&&(d[c].fingerMove(a),!a.isPropagationStopped());c++);b[a.id].x=a.x;b[a.id].y=a.y}};OCBNET.Gestures.fingersmove=function(b){for(var d in g){var c=a.Event("fingermove",{id:d,x:b.x,y:b.y,originalEvent:b});OCBNET.Gestures.fingermove(c)}};OCBNET.Gestures.fingersup=function(b){for(var d=e.length;d--;)for(var c in e[d].finger){var h=a.Event("fingerup",{id:c,x:b.x,y:b.y,originalEvent:b});
e[d].fingerUp(h)}};OCBNET.Gestures.Finger=function(a){this.id=a.id;this.x=a.x;this.y=a.y};(function(k){k.init=[];k.fingerDown=function(d){var c=new OCBNET.Gestures.Finger(d);"undefined"==typeof b[d.id]&&(b[d.id]=new OCBNET.Gestures.Finger(d));d=new a.Event("handstart",{dx:0,dy:0,finger:c,gesture:this,originalEvent:d});a(this.el).triggerHandler(d);d.isDefaultPrevented()||this.hasFinger(c.id)||(this.fingers++,this.maximum<this.fingers&&(this.maximum=this.fingers),this.ordered.push(c.id),this.finger[c.id]=
c,this.start={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()},this.offset={x:0,y:0},this.center=this.start.center,this.distance=this.rotation=0,g[c.id]||(g[c.id]=[]),g[c.id].push(this),this.move=a.extend({},this.start))};k.fingerMove=function(d){var c=d.id;if(this.hasFinger(c)){var h=this.getFinger(c);h.x=d.x;h.y=d.y;var g=b[c].x-d.x,k=b[c].y-d.y;this.move={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};this.offset={x:this.move.center.x-
this.start.center.x,y:this.move.center.y-this.start.center.y};this.center=this.move.center;this.rotation=this.move.rotation-this.start.rotation;this.distance=this.move.distance-this.start.distance;var c=Math.abs(this.offset.x),e=Math.abs(this.offset.y);d={dx:g,dy:k,finger:h,gesture:this,originalEvent:d};a(this.el).triggerHandler(new a.Event("handmove",d));"undefined"==typeof this.swipeSector&&(this.config.decideOnFirst||Math.pow(this.config.swipeMinDistance,2)<c*c+e*e)&&(h=180*Math.atan2(e,c)/Math.PI,
this.swipeSector=parseInt(h/90*this.config.swipeSectors,10),this.swipeSector=Math.min(this.swipeSector,this.config.swipeSectors-1));"undefined"!=typeof this.swipeSector&&a(this.el).triggerHandler(new a.Event("handswipe",d));1<this.fingers&&a(this.el).triggerHandler(new a.Event("handtransform",d))}};k.fingerUp=function(d){var c=d.id;if(this.hasFinger(c)){var h=this.getFinger(c);h.x=d.x;h.y=d.y;var e=b[c].x-d.x;d=b[c].y-d.y;this.stop={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};
this.offset={x:this.stop.center.x-this.start.center.x,y:this.stop.center.y-this.start.center.y};this.center=this.stop.center;this.rotation=this.stop.rotation-this.start.rotation;this.distance=this.stop.distance-this.start.distance;e=new a.Event("handstop",{dx:e,dy:d,finger:h,gesture:this});a(this.el).triggerHandler(e);this.fingers--;delete this.offset;delete this.rotation;delete this.distance;delete this.swipeSector;h=a.inArray(h.id,this.ordered);this.ordered.splice(h,1);delete this.finger[c];h=a.inArray(this,
g[c]);-1!=h&&g[c].splice(h,1);0==g[c].length&&(delete b[c],delete g[c])}};k.getCenter=function(){var a={x:0,y:0},c;for(c in this.finger){var b=this.finger[c];a.x+=b.x;a.y+=b.y}this.fingers&&(a.x/=this.fingers,a.y/=this.fingers);return a};k.getRotation=function(){if(2>this.fingers)return 0;for(var a=0,b=0,h=0,g=0,e=this.ordered.length;g<e;g++)for(var k=this.finger[this.ordered[g]],f=g+1;f<e;f++){h++;var l=this.finger[this.ordered[f]],a=a+(l.x-k.x),b=b+(l.y-k.y)}return 180*Math.atan2(b/h,a/h)/Math.PI};
k.getDistance=function(){if(2>this.fingers)return 0;for(var a=0,b=0,g=0,e=0,k=this.ordered.length;e<k;e++)for(var f=this.finger[this.ordered[e]],m=e+1;m<k;m++){g++;var l=this.finger[this.ordered[m]],a=a+Math.abs(l.x-f.x),b=b+Math.abs(l.y-f.y)}a/=g;b/=g;return Math.sqrt(a*a+b*b)};k.hasFinger=function(a){return a in this.finger};k.getFinger=function(a){return this.finger[a]}})(OCBNET.Gestures.prototype);a.fn.gesture=function(b){a(this).each(function(d,c){var g=a(c).data("gesture");if("undefined"==typeof g)g=
new OCBNET.Gestures(c,b),a(c).data("gesture",g);else{if(0<g.fingers)throw"fatal: live config change";a.extend(g.config,b,!0)}});return this}})(jQuery);
(function(a){"ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||(function(b){b.init.push(function(b){var f=this;a(b).bind("mousedown",function(b){var e=a(b.currentTarget).data("gesture");e!==f&&eval("alert('assertion')");b=new a.Event("fingerdown",{type:"mouse",id:b.which,x:b.screenX,y:b.screenY,originalEvent:b});e.fingerDown(b)})})}(OCBNET.Gestures.prototype),a(document).bind("mouseup trapmouseup",function(b){0>b.clientX||0>b.clientY||b.clientX>a(window).width()||
b.clientY>a(window).height()?(b=new a.Event("fingersup",{type:"mouse",x:b.screenX,y:b.screenY,originalEvent:b}),OCBNET.Gestures.fingersup(b)):(b=new a.Event("fingerup",{type:"mouse",id:b.which,x:b.screenX,y:b.screenY,originalEvent:b}),OCBNET.Gestures.fingerup(b))}),a(document).bind("mousemove",function(b){b=a.Event("fingersmove",{type:"mouse",x:b.screenX,y:b.screenY,originalEvent:b});OCBNET.Gestures.fingersmove(b)}))})(jQuery);
(function(a){"ontouchstart"in window&&!(window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints)&&(function(b){b.init.push(function(b){var f=this;a(b).bind("touchstart",function(b){var e=b.originalEvent.changedTouches||[],d=a(b.currentTarget).data("gesture");d!==f&&eval("alert('assertion')");a(e).each(function(c,e){var f=new a.Event("fingerdown",{type:"touch",x:e.clientX||e.screenX,y:e.clientY||e.screenY,id:e.identifier,originalEvent:b});d.fingerDown(f)})});a(b).bind("handswipe",function(a){2==
a.gesture.config.swipeSectors&&(0===a.gesture.swipeSector&&a.gesture.config["native"].panY&&a.preventDefault(),1===a.gesture.swipeSector&&a.gesture.config["native"].panX&&a.preventDefault())})})}(OCBNET.Gestures.prototype),a(document).bind("touchend touchcancel",function(b){a(b.originalEvent.changedTouches||[]).each(function(e,f){var g=a.Event("fingerup",{type:"touch",x:f.clientX||f.screenX,y:f.clientY||f.screenY,id:f.identifier,originalEvent:b});OCBNET.Gestures.fingerup(g)})}),a(document).bind("touchmove",
function(b){a(b.originalEvent.changedTouches||[]).each(function(e,f){var g=a.Event("fingermove",{type:"touch",x:f.clientX||f.screenX,y:f.clientY||f.screenY,id:f.identifier,originalEvent:b});OCBNET.Gestures.fingermove(g)})}))})(jQuery);
(function(a){if(window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints){var b={up:"MSPointerUp",move:"MSPointerMove",down:"MSPointerDown"};window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints&&(b={up:"pointerup",move:"pointermove",down:"pointerdown"});(function(e){e.init.push(function(e){var g=this;a(e).bind(b.down,function(b){var d=b.originalEvent,c=a(b.currentTarget).data("gesture");c!==g&&eval("alert('assertion')");b=new a.Event("fingerdown",{type:"pointer",x:d.pageX,
y:d.pageY,id:d.pointerId,originalEvent:b});c.fingerDown(b)}).css("msTouchAction","none")})})(OCBNET.Gestures.prototype);a(document).bind(b.up,function(b){var f=b.originalEvent;b=new a.Event("fingerup",{type:"pointer",x:f.pageX,y:f.pageY,id:f.pointerId,originalEvent:b});OCBNET.Gestures.fingerup(b)});a(document).bind(b.move,function(b){var f=b.originalEvent;b=a.Event("fingermove",{type:"pointer",x:f.pageX,y:f.pageY,id:f.pointerId,originalEvent:b});OCBNET.Gestures.fingermove(b)})}})(jQuery);
