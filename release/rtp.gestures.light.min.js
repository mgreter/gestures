if("undefined"==typeof OCBNET)var OCBNET={};
(function(c){var d={},g=[],h=0,f={};OCBNET.Gestures=function(a,b){this.el=a;this.config=c.extend({"native":{},swipeSectors:2,swipeMinDistance:20},b,!0);this.id=h++;g.push(this);this.maximum=this.fingers=0;this.finger={};this.ordered=[];this.surface=f;c(a).bind("dragstart",function(){return!1});for(var e=0,l=this.init.length;e<l;e++)this.init[e].apply(this,arguments)};OCBNET.Gestures.fingerup=function(a){for(var b=g.length;b--;)g[b].fingerUp(a);d[a.id]&&(d[a.id].x=a.x,d[a.id].y=a.y)};OCBNET.Gestures.fingermove=
function(a){for(var b=f[a.id],e=0,c=b.length;e<c&&(b[e].fingerMove(a),!a.isPropagationStopped());e++);d[a.id].x=a.x;d[a.id].y=a.y};OCBNET.Gestures.fingersmove=function(a){for(var b in f){var e=c.Event("fingermove",{id:b,x:a.x,y:a.y,originalEvent:a});OCBNET.Gestures.fingermove(e)}};OCBNET.Gestures.fingersup=function(a){for(var b=g.length;b--;)for(var e in g[b].finger){var l=c.Event("fingerup",{id:e,x:a.x,y:a.y,originalEvent:a});g[b].fingerUp(l)}};OCBNET.Gestures.Finger=function(a){this.id=a.id;this.x=
a.x;this.y=a.y};(function(a){a.init=[];a.fingerDown=function(b){var e=new OCBNET.Gestures.Finger(b);"undefined"==typeof d[b.id]&&(d[b.id]=new OCBNET.Gestures.Finger(b));b=new c.Event("handstart",{dx:0,dy:0,finger:e,gesture:this,originalEvent:b});c(this.el).triggerHandler(b);b.isDefaultPrevented()||this.hasFinger(e.id)||(this.start={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()},this.offset={x:0,y:0},this.center=this.start.center,this.distance=this.rotation=0,this.fingers++,
this.maximum<this.fingers&&(this.maximum=this.fingers),this.ordered.push(e.id),this.finger[e.id]=e,f[e.id]||(f[e.id]=[]),f[e.id].push(this),this.move=c.extend({},this.start))};a.fingerMove=function(b){var e=b.id;if(this.hasFinger(e)){var a=this.getFinger(e);a.x=b.x;a.y=b.y;var f=d[e].x-b.x,g=d[e].y-b.y;this.move={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};this.offset={x:this.move.center.x-this.start.center.x,y:this.move.center.y-this.start.center.y};this.center=
this.move.center;this.rotation=this.move.rotation-this.start.rotation;this.distance=this.move.distance-this.start.distance;var e=Math.abs(this.offset.x),h=Math.abs(this.offset.y);b={dx:f,dy:g,finger:a,gesture:this,originalEvent:b};c(this.el).triggerHandler(new c.Event("handmove",b));"undefined"==typeof this.swipeSector&&Math.sqrt(e*e+h*h)>this.config.swipeMinDistance&&(a=180*Math.atan2(h,e)/Math.PI,this.swipeSector=parseInt(a/90*this.config.swipeSectors,10),this.swipeSector=Math.min(this.swipeSector,
this.config.swipeSectors-1));"undefined"!=typeof this.swipeSector&&c(this.el).triggerHandler(new c.Event("handswipe",b));1<this.fingers&&c(this.el).triggerHandler(new c.Event("handtransform",b))}};a.fingerUp=function(b){var e=b.id;if(this.hasFinger(e)){var a=this.getFinger(e);a.x=b.x;a.y=b.y;var g=d[e].x-b.x;b=d[e].y-b.y;this.stop={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};this.offset={x:this.stop.center.x-this.start.center.x,y:this.stop.center.y-this.start.center.y};
this.center=this.stop.center;this.rotation=this.stop.rotation-this.start.rotation;this.distance=this.stop.distance-this.start.distance;g=new c.Event("handstop",{dx:g,dy:b,finger:a,gesture:this});c(this.el).triggerHandler(g);this.fingers--;delete this.offset;delete this.rotation;delete this.distance;delete this.swipeSector;a=c.inArray(a.id,this.ordered);this.ordered.splice(a,1);delete this.finger[e];a=c.inArray(this,f[e]);-1!=a&&f[e].splice(a,1);0==f[e].length&&(delete d[e],delete f[e])}};a.getCenter=
function(){var b={x:0,y:0},a;for(a in this.finger){var c=this.finger[a];b.x+=c.x;b.y+=c.y}this.fingers&&(b.x/=this.fingers,b.y/=this.fingers);return b};a.getRotation=function(){if(2>this.fingers)return 0;for(var b=0,a=0,c=0,f=0,d=this.ordered.length;f<d;f++)for(var g=this.finger[this.ordered[f]],h=f+1;h<d;h++){c++;var k=this.finger[this.ordered[h]],b=b+(k.x-g.x),a=a+(k.y-g.y)}return 180*Math.atan2(a/c,b/c)/Math.PI};a.getDistance=function(){if(2>this.fingers)return 0;for(var b=0,a=0,c=0,f=0,d=this.ordered.length;f<
d;f++)for(var g=this.finger[this.ordered[f]],h=f+1;h<d;h++){c++;var k=this.finger[this.ordered[h]],b=b+Math.abs(k.x-g.x),a=a+Math.abs(k.y-g.y)}b/=c;a/=c;return Math.sqrt(b*b+a*a)};a.hasFinger=function(a){return a in this.finger};a.getFinger=function(a){return this.finger[a]}})(OCBNET.Gestures.prototype);c.fn.gesture=function(a){c(this).each(function(b,e){var f=c(e).data("gesture");if("undefined"==typeof f)f=new OCBNET.Gestures(e,a),c(e).data("gesture",f);else{if(0<f.fingers)throw"fatal: live config change";
c.extend(f.config,a,!0)}});return this}})(jQuery);
(function(c){"ontouchstart"in window&&!(window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints)&&(function(d){d.init.push(function(d){var h=this;c(d).bind("touchstart",function(f){var a=f.originalEvent.changedTouches||[],b=c(f.currentTarget).data("gesture");b!==h&&eval("alert('assertion')");c(a).each(function(a,d){var g=new c.Event("fingerdown",{type:"touch",x:d.screenX,y:d.screenY,id:d.identifier,originalEvent:f});b.fingerDown(g)})});c(d).bind("handswipe",function(c){2==c.gesture.config.swipeSectors&&
(0===c.gesture.swipeSector&&c.gesture.config["native"].panY&&c.preventDefault(),1===c.gesture.swipeSector&&c.gesture.config["native"].panX&&c.preventDefault())})})}(OCBNET.Gestures.prototype),c(document).bind("touchend touchcancel",function(d){c(d.originalEvent.changedTouches||[]).each(function(g,h){var f=c.Event("fingerup",{type:"touch",x:h.screenX,y:h.screenY,id:h.identifier,originalEvent:d});OCBNET.Gestures.fingerup(f)})}),c(document).bind("touchmove",function(d){c(d.originalEvent.changedTouches||
[]).each(function(g,h){var f=c.Event("fingermove",{type:"touch",x:h.screenX,y:h.screenY,id:h.identifier,originalEvent:d});OCBNET.Gestures.fingermove(f)})}))})(jQuery);
(function(c){window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints&&(function(d){d.init.push(function(d){var h=this;c(d).bind("MSPointerDown",function(d){var a=d.originalEvent,b=c(d.currentTarget).data("gesture");b!==h&&eval("alert('assertion')");d=new c.Event("fingerdown",{type:"pointer",x:a.pageX,y:a.pageY,id:a.pointerId,originalEvent:d});b.fingerDown(d)}).css("msTouchAction","none")})}(OCBNET.Gestures.prototype),c(document).bind("MSPointerUp",function(d){var g=d.originalEvent;
d=new c.Event("fingerup",{type:"pointer",x:g.pageX,y:g.pageY,id:g.pointerId,originalEvent:d});OCBNET.Gestures.fingerup(d)}),c(document).bind("MSPointerMove",function(d){var g=d.originalEvent;d=c.Event("fingermove",{type:"pointer",x:g.pageX,y:g.pageY,id:g.pointerId,originalEvent:d});OCBNET.Gestures.fingermove(d)}))})(jQuery);
