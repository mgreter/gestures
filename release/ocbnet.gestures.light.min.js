if("undefined"==typeof OCBNET)var OCBNET={};var isChromium=window.chrome,vendorName=window.navigator.vendor,decideScrollOrPanOnFirst=null!==isChromium&&"Google Inc."===vendorName;
(function(d){var e={},k=[],g=0,h={};OCBNET.Gestures=function(b,a){this.el=b;this.config=d.extend({"native":{},swipeSectors:2,swipeMinDistance:15,decideOnFirst:decideScrollOrPanOnFirst},a,!0);this.id=g++;k.push(this);this.maximum=this.fingers=0;this.finger={};this.ordered=[];this.surface=h;d(b).bind("dragstart",function(){return!1});for(var c=0,f=this.init.length;c<f;c++)this.init[c].apply(this,arguments)};OCBNET.Gestures.fingerup=function(b){for(var a=k.length;a--;)k[a].fingerUp(b);e[b.id]&&(e[b.id].x=
b.x,e[b.id].y=b.y)};OCBNET.Gestures.fingermove=function(b){var a=h[b.id];if("undefined"!=typeof a){for(var c=0,f=a.length;c<f&&(a[c].fingerMove(b),!b.isPropagationStopped());c++);e[b.id].x=b.x;e[b.id].y=b.y}};OCBNET.Gestures.fingersmove=function(b){for(var a in h){var c=d.Event("fingermove",{id:a,x:b.x,y:b.y,originalEvent:b});OCBNET.Gestures.fingermove(c)}};OCBNET.Gestures.fingersup=function(b){for(var a=k.length;a--;)for(var c in k[a].finger){var f=d.Event("fingerup",{id:c,x:b.x,y:b.y,originalEvent:b});
k[a].fingerUp(f)}};OCBNET.Gestures.Finger=function(b){this.id=b.id;this.x=b.x;this.y=b.y};(function(b){b.init=[];b.fingerDown=function(a){var c=new OCBNET.Gestures.Finger(a);"undefined"==typeof e[a.id]&&(e[a.id]=new OCBNET.Gestures.Finger(a));a=new d.Event("handstart",{dx:0,dy:0,finger:c,gesture:this,originalEvent:a});d(this.el).triggerHandler(a);a.isDefaultPrevented()||this.hasFinger(c.id)||(this.fingers++,this.maximum<this.fingers&&(this.maximum=this.fingers),this.ordered.push(c.id),this.finger[c.id]=
c,this.start={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()},this.offset={x:0,y:0},this.center=this.start.center,this.distance=this.rotation=0,h[c.id]||(h[c.id]=[]),h[c.id].push(this),this.move=d.extend({},this.start))};b.fingerMove=function(a){var c=a.id;if(this.hasFinger(c)){var f=this.getFinger(c);f.x=a.x;f.y=a.y;var b=e[c].x-a.x,h=e[c].y-a.y;this.move={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};this.offset={x:this.move.center.x-
this.start.center.x,y:this.move.center.y-this.start.center.y};this.center=this.move.center;this.rotation=this.move.rotation-this.start.rotation;this.distance=this.move.distance-this.start.distance;var c=Math.abs(this.offset.x),g=Math.abs(this.offset.y);a={dx:b,dy:h,finger:f,gesture:this,originalEvent:a};d(this.el).triggerHandler(new d.Event("handmove",a));"undefined"==typeof this.swipeSector&&(this.config.decideOnFirst||Math.pow(this.config.swipeMinDistance,2)<c*c+g*g)&&(f=180*Math.atan2(g,c)/Math.PI,
this.swipeSector=parseInt(f/90*this.config.swipeSectors,10),this.swipeSector=Math.min(this.swipeSector,this.config.swipeSectors-1));"undefined"!=typeof this.swipeSector&&d(this.el).triggerHandler(new d.Event("handswipe",a));1<this.fingers&&d(this.el).triggerHandler(new d.Event("handtransform",a))}};b.fingerUp=function(a){var c=a.id;if(this.hasFinger(c)){var f=this.getFinger(c);f.x=a.x;f.y=a.y;var b=e[c].x-a.x;a=e[c].y-a.y;this.stop={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};
this.offset={x:this.stop.center.x-this.start.center.x,y:this.stop.center.y-this.start.center.y};this.center=this.stop.center;this.rotation=this.stop.rotation-this.start.rotation;this.distance=this.stop.distance-this.start.distance;b=new d.Event("handstop",{dx:b,dy:a,finger:f,gesture:this});d(this.el).triggerHandler(b);this.fingers--;delete this.offset;delete this.rotation;delete this.distance;delete this.swipeSector;b.isDefaultPrevented()?(f=d.inArray(f.id,this.ordered),this.ordered.splice(f,1),delete this.finger[c]):
(this.finger={},this.fingers=0,this.ordered.length=0);f=d.inArray(this,h[c]);-1!=f&&h[c].splice(f,1);0==h[c].length&&(delete e[c],delete h[c])}};b.getCenter=function(){var a={x:0,y:0},c;for(c in this.finger){var f=this.finger[c];a.x+=f.x;a.y+=f.y}this.fingers&&(a.x/=this.fingers,a.y/=this.fingers);return a};b.getRotation=function(){if(2>this.fingers)return 0;for(var a=0,c=0,f=0,b=0,d=this.ordered.length;b<d;b++)for(var h=this.finger[this.ordered[b]],e=b+1;e<d;e++){f++;var g=this.finger[this.ordered[e]],
a=a+(g.x-h.x),c=c+(g.y-h.y)}return 180*Math.atan2(c/f,a/f)/Math.PI};b.getDistance=function(){if(2>this.fingers)return 0;for(var a=0,c=0,b=0,d=0,h=this.ordered.length;d<h;d++)for(var e=this.finger[this.ordered[d]],g=d+1;g<h;g++){b++;var k=this.finger[this.ordered[g]],a=a+Math.abs(k.x-e.x),c=c+Math.abs(k.y-e.y)}a/=b;c/=b;return Math.sqrt(a*a+c*c)};b.hasFinger=function(a){return a in this.finger};b.getFinger=function(a){return this.finger[a]}})(OCBNET.Gestures.prototype);d.fn.gesture=function(b){d(this).each(function(a,
c){var f=d(c).data("gesture");if("undefined"==typeof f)f=new OCBNET.Gestures(c,b),d(c).data("gesture",f);else{if(0<f.fingers)throw"fatal: live config change";d.extend(f.config,b,!0)}});return this}})(jQuery);
(function(d){"ontouchstart"in window&&!(window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints)&&(function(e){e.init.push(function(e){var g=this;d(e).bind("touchstart",function(h){var b=h.originalEvent.changedTouches||[],a=d(h.currentTarget).data("gesture");a!==g&&eval("alert('assertion')");d(b).each(function(c,b){var e=new d.Event("fingerdown",{type:"touch",x:b.clientX||b.screenX,y:b.clientY||b.screenY,id:b.identifier,originalEvent:h});a.fingerDown(e)})});d(e).bind("handswipe",function(d){2==
d.gesture.config.swipeSectors&&(0===d.gesture.swipeSector&&d.gesture.config["native"].panY&&d.preventDefault(),1===d.gesture.swipeSector&&d.gesture.config["native"].panX&&d.preventDefault())})})}(OCBNET.Gestures.prototype),d(document).bind("touchend touchcancel",function(e){d(e.originalEvent.changedTouches||[]).each(function(k,g){var h=d.Event("fingerup",{type:"touch",x:g.clientX||g.screenX,y:g.clientY||g.screenY,id:g.identifier,originalEvent:e});OCBNET.Gestures.fingerup(h)})}),d(document).bind("touchmove",
function(e){d(e.originalEvent.changedTouches||[]).each(function(k,g){var h=d.Event("fingermove",{type:"touch",x:g.clientX||g.screenX,y:g.clientY||g.screenY,id:g.identifier,originalEvent:e});OCBNET.Gestures.fingermove(h)})}))})(jQuery);
(function(d){function e(a){var c=a.originalEvent,b=d(a.currentTarget).data("gesture");b!==this&&eval("alert('assertion')");c=new d.Event("fingerdown",{type:"pointer",x:c.pageX,y:c.pageY,id:c.pointerId,originalEvent:a});b.fingerDown(c);b.config.hatchPointerDown||a.preventDefault()}function k(a){var c=a.originalEvent;a=d.Event("fingermove",{type:"pointer",x:c.pageX,y:c.pageY,id:c.pointerId,originalEvent:a});OCBNET.Gestures.fingermove(a)}function g(a){var c=a.originalEvent;a=new d.Event("fingerup",{type:"pointer",
x:c.pageX,y:c.pageY,id:c.pointerId,originalEvent:a});OCBNET.Gestures.fingerup(a)}if(window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints){var h={up:"MSPointerUp",move:"MSPointerMove",down:"MSPointerDown",cancel:"MSPointerCancel",action:"ms-touch-action"};window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints&&(h={up:"pointerup",move:"pointermove",down:"pointerdown",cancel:"pointercancel",action:"touch-action"});
(function(a){a.init.push(function(a){var b=[],g=this.config["native"]||{};g.panY&&b.push("pan-y");g.panX&&b.push("pan-x");0==b.length&&b.push("none");g=d.proxy(e,this);d(a).bind(h.down,g).css(h.action,b.join(" "))})})(OCBNET.Gestures.prototype);var b=[h.up,h.cancel].join(" ");d(document).bind(b,g);d(document).bind(h.move,k)}})(jQuery);
