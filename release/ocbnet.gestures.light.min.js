if("undefined"==typeof OCBNET)var OCBNET={};var isChromium=window.chrome,vendorName=window.navigator.vendor,decideScrollOrPanOnFirst=null!==isChromium&&"Google Inc."===vendorName;
(function(c){var e={},h=[],f=0,g={};OCBNET.Gestures=function(a,b){this.el=a;this.config=c.extend({native:{},swipeSectors:2,swipeMinDistance:15,decideOnFirst:decideScrollOrPanOnFirst},b,!0);this.id=f++;h.push(this);this.maximum=this.fingers=0;this.finger={};this.ordered=[];this.surface=g;c(a).bind("dragstart",function(){return!1});for(var d=0,k=this.init.length;d<k;d++)this.init[d].apply(this,arguments)};OCBNET.Gestures.fingerup=function(a){for(var b=h.length;b--;)h[b].fingerUp(a);e[a.id]&&(e[a.id].x=
a.x,e[a.id].y=a.y)};OCBNET.Gestures.fingermove=function(a){var b=g[a.id];if("undefined"!=typeof b){for(var d=0,k=b.length;d<k&&(b[d].fingerMove(a),!a.isPropagationStopped());d++);e[a.id].x=a.x;e[a.id].y=a.y}};OCBNET.Gestures.fingersmove=function(a){for(var b in g){var d=c.Event("fingermove",{id:b,x:a.x,y:a.y,originalEvent:a});OCBNET.Gestures.fingermove(d)}};OCBNET.Gestures.fingersup=function(a){for(var b=h.length;b--;)for(var d in h[b].finger){var k=c.Event("fingerup",{id:d,x:a.x,y:a.y,originalEvent:a});
h[b].fingerUp(k)}};OCBNET.Gestures.Finger=function(a){this.id=a.id;this.x=a.x;this.y=a.y};(function(a){a.init=[];a.fingerDown=function(b){var d=new OCBNET.Gestures.Finger(b);"undefined"==typeof e[b.id]&&(e[b.id]=new OCBNET.Gestures.Finger(b));b=new c.Event("handstart",{dx:0,dy:0,finger:d,gesture:this,originalEvent:b});c(this.el).triggerHandler(b);b.isDefaultPrevented()||this.hasFinger(d.id)||(this.fingers++,this.maximum<this.fingers&&(this.maximum=this.fingers),this.ordered.push(d.id),this.finger[d.id]=
d,this.start={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()},this.offset={x:0,y:0},this.center=this.start.center,this.distance=this.rotation=0,g[d.id]||(g[d.id]=[]),g[d.id].push(this),this.move=c.extend({},this.start))};a.fingerMove=function(b){var d=b.id;if(this.hasFinger(d)){var a=this.getFinger(d);a.x=b.x;a.y=b.y;var g=e[d].x-b.x,h=e[d].y-b.y;this.move={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};this.offset={x:this.move.center.x-
this.start.center.x,y:this.move.center.y-this.start.center.y};this.center=this.move.center;this.rotation=this.move.rotation-this.start.rotation;this.distance=this.move.distance-this.start.distance;var d=Math.abs(this.offset.x),f=Math.abs(this.offset.y);b={dx:g,dy:h,finger:a,gesture:this,originalEvent:b};c(this.el).triggerHandler(new c.Event("handmove",b));"undefined"==typeof this.swipeSector&&(this.config.decideOnFirst||Math.pow(this.config.swipeMinDistance,2)<d*d+f*f)&&(this.swipeSector=parseInt(180*
Math.atan2(f,d)/Math.PI/90*this.config.swipeSectors,10),this.swipeSector=Math.min(this.swipeSector,this.config.swipeSectors-1));"undefined"!=typeof this.swipeSector&&c(this.el).triggerHandler(new c.Event("handswipe",b));1<this.fingers&&c(this.el).triggerHandler(new c.Event("handtransform",b))}};a.fingerUp=function(b){var d=b.id;if(this.hasFinger(d)){var a=this.getFinger(d);a.x=b.x;a.y=b.y;var f=e[d].x-b.x;b=e[d].y-b.y;this.stop={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};
this.offset={x:this.stop.center.x-this.start.center.x,y:this.stop.center.y-this.start.center.y};this.center=this.stop.center;this.rotation=this.stop.rotation-this.start.rotation;this.distance=this.stop.distance-this.start.distance;f=new c.Event("handstop",{dx:f,dy:b,finger:a,gesture:this});c(this.el).triggerHandler(f);this.fingers--;delete this.offset;delete this.rotation;delete this.distance;delete this.swipeSector;f.isDefaultPrevented()?(a=c.inArray(a.id,this.ordered),this.ordered.splice(a,1),delete this.finger[d]):
(this.finger={},this.fingers=0,this.ordered.length=0);a=c.inArray(this,g[d]);-1!=a&&g[d].splice(a,1);0==g[d].length&&(delete e[d],delete g[d])}};a.getCenter=function(){var b={x:0,y:0},d;for(d in this.finger){var a=this.finger[d];b.x+=a.x;b.y+=a.y}this.fingers&&(b.x/=this.fingers,b.y/=this.fingers);return b};a.getRotation=function(){if(2>this.fingers)return 0;for(var b=0,d=0,a=0,c=0,g=this.ordered.length;c<g;c++)for(var f=this.finger[this.ordered[c]],e=c+1;e<g;e++){a++;var h=this.finger[this.ordered[e]],
b=b+(h.x-f.x),d=d+(h.y-f.y)}return 180*Math.atan2(d/a,b/a)/Math.PI};a.getDistance=function(){if(2>this.fingers)return 0;for(var b=0,d=0,a=0,c=0,g=this.ordered.length;c<g;c++)for(var f=this.finger[this.ordered[c]],e=c+1;e<g;e++){a++;var h=this.finger[this.ordered[e]],b=b+Math.abs(h.x-f.x),d=d+Math.abs(h.y-f.y)}b/=a;d/=a;return Math.sqrt(b*b+d*d)};a.hasFinger=function(b){return b in this.finger};a.getFinger=function(b){return this.finger[b]}})(OCBNET.Gestures.prototype);c.fn.gesture=function(a){c(this).each(function(b,
d){b=c(d).data("gesture");if("undefined"==typeof b)b=new OCBNET.Gestures(d,a),c(d).data("gesture",b);else{if(0<b.fingers)throw"fatal: live config change";c.extend(b.config,a,!0)}});return this}})(jQuery);
(function(c){!("ontouchstart"in window)||window.PointerEvent||window.navigator.msPointerEnabled||window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled||window.navigator.maxTouchPoints||(function(e){e.init.push(function(e){var f=this;c(e).bind("touchstart",function(g){var a=g.originalEvent.changedTouches||[],b=c(g.currentTarget).data("gesture");b!==f&&eval("alert('assertion')");c(a).each(function(d,a){d=new c.Event("fingerdown",{type:"touch",x:a.clientX||a.screenX,y:a.clientY||a.screenY,
id:a.identifier,originalEvent:g});b.fingerDown(d)});b.config.hatchTouchDown||g.preventDefault()});c(e).bind("handswipe",function(c){2==c.gesture.config.swipeSectors&&(0===c.gesture.swipeSector&&c.gesture.config.native.panY&&c.preventDefault(),1===c.gesture.swipeSector&&c.gesture.config.native.panX&&c.preventDefault())})})}(OCBNET.Gestures.prototype),c(document).bind("touchend touchcancel",function(e){c(e.originalEvent.changedTouches||[]).each(function(h,f){h=c.Event("fingerup",{type:"touch",x:f.clientX||
f.screenX,y:f.clientY||f.screenY,id:f.identifier,originalEvent:e});OCBNET.Gestures.fingerup(h)})}),c(document).bind("touchmove",function(e){c(e.originalEvent.changedTouches||[]).each(function(h,f){h=c.Event("fingermove",{type:"touch",x:f.clientX||f.screenX,y:f.clientY||f.screenY,id:f.identifier,originalEvent:e});OCBNET.Gestures.fingermove(h)})}))})(jQuery);
(function(c){function e(b){var a=b.originalEvent,e=c(b.currentTarget).data("gesture");e!==this&&eval("alert('assertion')");a=new c.Event("fingerdown",{type:"pointer",x:a.pageX,y:a.pageY,id:a.pointerId,originalEvent:b});e.fingerDown(a);e.config.hatchPointerDown||b.preventDefault()}function h(b){var a=b.originalEvent;b=c.Event("fingermove",{type:"pointer",x:a.pageX,y:a.pageY,id:a.pointerId,originalEvent:b});OCBNET.Gestures.fingermove(b)}function f(b){var a=b.originalEvent;b=new c.Event("fingerup",{type:"pointer",
x:a.pageX,y:a.pageY,id:a.pointerId,originalEvent:b});OCBNET.Gestures.fingerup(b)}if(window.PointerEvent||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints){var g={up:"MSPointerUp",move:"MSPointerMove",down:"MSPointerDown",cancel:"MSPointerCancel",action:"ms-touch-action"};(window.PointerEvent||window.navigator.pointerEnabled)&&window.navigator.maxTouchPoints&&(g={up:"pointerup",move:"pointermove",down:"pointerdown",
cancel:"pointercancel",action:"touch-action"});(function(b){b.init.push(function(b){var a=[],f=this.config.native||{};f.panY&&a.push("pan-y");f.panX&&a.push("pan-x");0==a.length&&a.push("none");f=c.proxy(e,this);c(b).bind(g.down,f).css(g.action,a.join(" "))})})(OCBNET.Gestures.prototype);var a=[g.up,g.cancel].join(" ");c(document).bind(a,f);c(document).bind(g.move,h)}})(jQuery);
