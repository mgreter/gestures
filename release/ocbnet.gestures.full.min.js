if("undefined"==typeof OCBNET)var OCBNET={};var isChromium=window.chrome,vendorName=window.navigator.vendor,decideScrollOrPanOnFirst=null!==isChromium&&"Google Inc."===vendorName;
(function(b){var a={},k=[],h=0,g={};OCBNET.Gestures=function(e,c){this.el=e;this.config=b.extend({native:{},swipeSectors:2,swipeMinDistance:15,decideOnFirst:decideScrollOrPanOnFirst},c,!0);this.id=h++;k.push(this);this.maximum=this.fingers=0;this.finger={};this.ordered=[];this.surface=g;b(e).bind("dragstart",function(){return!1});for(var d=0,a=this.init.length;d<a;d++)this.init[d].apply(this,arguments)};OCBNET.Gestures.fingerup=function(b){for(var c=k.length;c--;)k[c].fingerUp(b);a[b.id]&&(a[b.id].x=
b.x,a[b.id].y=b.y)};OCBNET.Gestures.fingermove=function(b){var c=g[b.id];if("undefined"!=typeof c){for(var d=0,f=c.length;d<f&&(c[d].fingerMove(b),!b.isPropagationStopped());d++);a[b.id].x=b.x;a[b.id].y=b.y}};OCBNET.Gestures.fingersmove=function(a){for(var c in g){var d=b.Event("fingermove",{id:c,x:a.x,y:a.y,originalEvent:a});OCBNET.Gestures.fingermove(d)}};OCBNET.Gestures.fingersup=function(a){for(var c=k.length;c--;)for(var d in k[c].finger){var f=b.Event("fingerup",{id:d,x:a.x,y:a.y,originalEvent:a});
k[c].fingerUp(f)}};OCBNET.Gestures.Finger=function(b){this.id=b.id;this.x=b.x;this.y=b.y};(function(e){e.init=[];e.fingerDown=function(c){var d=new OCBNET.Gestures.Finger(c);"undefined"==typeof a[c.id]&&(a[c.id]=new OCBNET.Gestures.Finger(c));c=new b.Event("handstart",{dx:0,dy:0,finger:d,gesture:this,originalEvent:c});b(this.el).triggerHandler(c);c.isDefaultPrevented()||this.hasFinger(d.id)||(this.fingers++,this.maximum<this.fingers&&(this.maximum=this.fingers),this.ordered.push(d.id),this.finger[d.id]=
d,this.start={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()},this.offset={x:0,y:0},this.center=this.start.center,this.distance=this.rotation=0,g[d.id]||(g[d.id]=[]),g[d.id].push(this),this.move=b.extend({},this.start))};e.fingerMove=function(c){var d=c.id;if(this.hasFinger(d)){var f=this.getFinger(d);f.x=c.x;f.y=c.y;var g=a[d].x-c.x,e=a[d].y-c.y;this.move={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};this.offset={x:this.move.center.x-
this.start.center.x,y:this.move.center.y-this.start.center.y};this.center=this.move.center;this.rotation=this.move.rotation-this.start.rotation;this.distance=this.move.distance-this.start.distance;var d=Math.abs(this.offset.x),k=Math.abs(this.offset.y);c={dx:g,dy:e,finger:f,gesture:this,originalEvent:c};b(this.el).triggerHandler(new b.Event("handmove",c));"undefined"==typeof this.swipeSector&&(this.config.decideOnFirst||Math.pow(this.config.swipeMinDistance,2)<d*d+k*k)&&(this.swipeSector=parseInt(180*
Math.atan2(k,d)/Math.PI/90*this.config.swipeSectors,10),this.swipeSector=Math.min(this.swipeSector,this.config.swipeSectors-1));"undefined"!=typeof this.swipeSector&&b(this.el).triggerHandler(new b.Event("handswipe",c));1<this.fingers&&b(this.el).triggerHandler(new b.Event("handtransform",c))}};e.fingerUp=function(c){var d=c.id;if(this.hasFinger(d)){var f=this.getFinger(d);f.x=c.x;f.y=c.y;var e=a[d].x-c.x;c=a[d].y-c.y;this.stop={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};
this.offset={x:this.stop.center.x-this.start.center.x,y:this.stop.center.y-this.start.center.y};this.center=this.stop.center;this.rotation=this.stop.rotation-this.start.rotation;this.distance=this.stop.distance-this.start.distance;e=new b.Event("handstop",{dx:e,dy:c,finger:f,gesture:this});b(this.el).triggerHandler(e);this.fingers--;delete this.offset;delete this.rotation;delete this.distance;delete this.swipeSector;e.isDefaultPrevented()?(f=b.inArray(f.id,this.ordered),this.ordered.splice(f,1),delete this.finger[d]):
(this.finger={},this.fingers=0,this.ordered.length=0);f=b.inArray(this,g[d]);-1!=f&&g[d].splice(f,1);0==g[d].length&&(delete a[d],delete g[d])}};e.getCenter=function(){var c={x:0,y:0},d;for(d in this.finger){var b=this.finger[d];c.x+=b.x;c.y+=b.y}this.fingers&&(c.x/=this.fingers,c.y/=this.fingers);return c};e.getRotation=function(){if(2>this.fingers)return 0;for(var c=0,b=0,a=0,g=0,e=this.ordered.length;g<e;g++)for(var k=this.finger[this.ordered[g]],h=g+1;h<e;h++){a++;var l=this.finger[this.ordered[h]],
c=c+(l.x-k.x),b=b+(l.y-k.y)}return 180*Math.atan2(b/a,c/a)/Math.PI};e.getDistance=function(){if(2>this.fingers)return 0;for(var c=0,b=0,a=0,g=0,e=this.ordered.length;g<e;g++)for(var k=this.finger[this.ordered[g]],h=g+1;h<e;h++){a++;var l=this.finger[this.ordered[h]],c=c+Math.abs(l.x-k.x),b=b+Math.abs(l.y-k.y)}c/=a;b/=a;return Math.sqrt(c*c+b*b)};e.hasFinger=function(c){return c in this.finger};e.getFinger=function(c){return this.finger[c]}})(OCBNET.Gestures.prototype);b.fn.gesture=function(a){b(this).each(function(c,
d){c=b(d).data("gesture");if("undefined"==typeof c)c=new OCBNET.Gestures(d,a),b(d).data("gesture",c);else{if(0<c.fingers)throw"fatal: live config change";b.extend(c.config,a,!0)}});return this}})(jQuery);
(function(b){"ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||(function(a){a.init.push(function(a){var h=this;b(a).bind("mousedown",function(a){var e=b(a.currentTarget).data("gesture");e!==h&&eval("alert('assertion')");a=new b.Event("fingerdown",{type:"mouse",id:a.which,x:a.screenX,y:a.screenY,originalEvent:a});e.fingerDown(a)})})}(OCBNET.Gestures.prototype),b(document).bind("mouseup trapmouseup",function(a){0>a.clientX||0>a.clientY||a.clientX>b(window).width()||
a.clientY>b(window).height()?(a=new b.Event("fingersup",{type:"mouse",x:a.screenX,y:a.screenY,originalEvent:a}),OCBNET.Gestures.fingersup(a)):(a=new b.Event("fingerup",{type:"mouse",id:a.which,x:a.screenX,y:a.screenY,originalEvent:a}),OCBNET.Gestures.fingerup(a))}),b(document).bind("mousemove",function(a){a=b.Event("fingersmove",{type:"mouse",x:a.screenX,y:a.screenY,originalEvent:a});OCBNET.Gestures.fingersmove(a)}))})(jQuery);
(function(b){!("ontouchstart"in window)||window.PointerEvent||window.navigator.msPointerEnabled||window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled||window.navigator.maxTouchPoints||(function(a){a.init.push(function(a){var h=this;b(a).bind("touchstart",function(a){var e=a.originalEvent.changedTouches||[],c=b(a.currentTarget).data("gesture");c!==h&&eval("alert('assertion')");b(e).each(function(d,f){d=new b.Event("fingerdown",{type:"touch",x:f.clientX||f.screenX,y:f.clientY||f.screenY,
id:f.identifier,originalEvent:a});c.fingerDown(d)});c.config.hatchTouchDown||a.preventDefault()});b(a).bind("handswipe",function(b){2==b.gesture.config.swipeSectors&&(0===b.gesture.swipeSector&&b.gesture.config.native.panY&&b.preventDefault(),1===b.gesture.swipeSector&&b.gesture.config.native.panX&&b.preventDefault())})})}(OCBNET.Gestures.prototype),b(document).bind("touchend touchcancel",function(a){b(a.originalEvent.changedTouches||[]).each(function(k,h){k=b.Event("fingerup",{type:"touch",x:h.clientX||
h.screenX,y:h.clientY||h.screenY,id:h.identifier,originalEvent:a});OCBNET.Gestures.fingerup(k)})}),b(document).bind("touchmove",function(a){b(a.originalEvent.changedTouches||[]).each(function(k,h){k=b.Event("fingermove",{type:"touch",x:h.clientX||h.screenX,y:h.clientY||h.screenY,id:h.identifier,originalEvent:a});OCBNET.Gestures.fingermove(k)})}))})(jQuery);
(function(b){function a(c){var a=c.originalEvent,f=b(c.currentTarget).data("gesture");f!==this&&eval("alert('assertion')");a=new b.Event("fingerdown",{type:"pointer",x:a.pageX,y:a.pageY,id:a.pointerId,originalEvent:c});f.fingerDown(a);f.config.hatchPointerDown||c.preventDefault()}function k(c){var a=c.originalEvent;c=b.Event("fingermove",{type:"pointer",x:a.pageX,y:a.pageY,id:a.pointerId,originalEvent:c});OCBNET.Gestures.fingermove(c)}function h(a){var d=a.originalEvent;a=new b.Event("fingerup",{type:"pointer",
x:d.pageX,y:d.pageY,id:d.pointerId,originalEvent:a});OCBNET.Gestures.fingerup(a)}if(window.PointerEvent||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints){var g={up:"MSPointerUp",move:"MSPointerMove",down:"MSPointerDown",cancel:"MSPointerCancel",action:"ms-touch-action"};(window.PointerEvent||window.navigator.pointerEnabled)&&window.navigator.maxTouchPoints&&(g={up:"pointerup",move:"pointermove",down:"pointerdown",
cancel:"pointercancel",action:"touch-action"});(function(c){c.init.push(function(c){var f=[],e=this.config.native||{};e.panY&&f.push("pan-y");e.panX&&f.push("pan-x");0==f.length&&f.push("none");e=b.proxy(a,this);b(c).bind(g.down,e).css(g.action,f.join(" "))})})(OCBNET.Gestures.prototype);var e=[g.up,g.cancel].join(" ");b(document).bind(e,h);b(document).bind(g.move,k)}})(jQuery);
