(function(){var a={add:function(a){var k=a.handler;a.handler=function(a){var b=k.call(this,a);if(0==b||a.isPropagationStopped()){var e=a.type,d=a.isTrigger,c=a.isPropagationStopped,g=a.isImmediatePropagationStopped;a.type="trap"+a.type;a.isPropagationStopped=function(){return!1};a.isImmediatePropagationStopped=function(){return!1};jQuery(a.currentTarget).parent().trigger(a);a.type=e;a.isTrigger=d;c&&a.stopPropagation();g&&a.stopImmediatePropagation();if("undefined"!=typeof b)return b}}}};"onmousedown"in
window&&(jQuery.event.special.mouseup=a,jQuery.event.special.mouseout=a,jQuery.event.special.mouseover=a,jQuery.event.special.mousemove=a,jQuery.event.special.mousedown=a);"ontouchstart"in window&&(jQuery.event.special.touchend=a,jQuery.event.special.touchmove=a,jQuery.event.special.touchstart=a,jQuery.event.special.touchcancel=a);window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints?(jQuery.event.special.pointerup=a,jQuery.event.special.pointermove=a,jQuery.event.special.pointerdown=
a,jQuery.event.special.pointercancel=a):window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints&&(jQuery.event.special.MSPointerUp=a,jQuery.event.special.MSPointerMove=a,jQuery.event.special.MSPointerDown=a,jQuery.event.special.MSPointerCancel=a)})();if("undefined"==typeof OCBNET)var OCBNET={};var isChromium=window.chrome,vendorName=window.navigator.vendor,decideScrollOrPanOnFirst=null!==isChromium&&"Google Inc."===vendorName;
(function(a){var b={},k=[],h=0,f={};OCBNET.Gestures=function(e,d){this.el=e;this.config=a.extend({native:{},swipeSectors:2,swipeMinDistance:15,decideOnFirst:decideScrollOrPanOnFirst},d,!0);this.id=h++;k.push(this);this.maximum=this.fingers=0;this.finger={};this.ordered=[];this.surface=f;a(e).bind("dragstart",function(){return!1});for(var c=0,b=this.init.length;c<b;c++)this.init[c].apply(this,arguments)};OCBNET.Gestures.fingerup=function(a){for(var d=k.length;d--;)k[d].fingerUp(a);b[a.id]&&(b[a.id].x=
a.x,b[a.id].y=a.y)};OCBNET.Gestures.fingermove=function(a){var d=f[a.id];if("undefined"!=typeof d){for(var c=0,g=d.length;c<g&&(d[c].fingerMove(a),!a.isPropagationStopped());c++);b[a.id].x=a.x;b[a.id].y=a.y}};OCBNET.Gestures.fingersmove=function(b){for(var d in f){var c=a.Event("fingermove",{id:d,x:b.x,y:b.y,originalEvent:b});OCBNET.Gestures.fingermove(c)}};OCBNET.Gestures.fingersup=function(b){for(var d=k.length;d--;)for(var c in k[d].finger){var g=a.Event("fingerup",{id:c,x:b.x,y:b.y,originalEvent:b});
k[d].fingerUp(g)}};OCBNET.Gestures.Finger=function(a){this.id=a.id;this.x=a.x;this.y=a.y};(function(e){e.init=[];e.fingerDown=function(d){var c=new OCBNET.Gestures.Finger(d);"undefined"==typeof b[d.id]&&(b[d.id]=new OCBNET.Gestures.Finger(d));d=new a.Event("handstart",{dx:0,dy:0,finger:c,gesture:this,originalEvent:d});a(this.el).triggerHandler(d);d.isDefaultPrevented()||this.hasFinger(c.id)||(this.fingers++,this.maximum<this.fingers&&(this.maximum=this.fingers),this.ordered.push(c.id),this.finger[c.id]=
c,this.start={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()},this.offset={x:0,y:0},this.center=this.start.center,this.distance=this.rotation=0,f[c.id]||(f[c.id]=[]),f[c.id].push(this),this.move=a.extend({},this.start))};e.fingerMove=function(d){var c=d.id;if(this.hasFinger(c)){var g=this.getFinger(c);g.x=d.x;g.y=d.y;var f=b[c].x-d.x,e=b[c].y-d.y;this.move={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};this.offset={x:this.move.center.x-
this.start.center.x,y:this.move.center.y-this.start.center.y};this.center=this.move.center;this.rotation=this.move.rotation-this.start.rotation;this.distance=this.move.distance-this.start.distance;var c=Math.abs(this.offset.x),k=Math.abs(this.offset.y);d={dx:f,dy:e,finger:g,gesture:this,originalEvent:d};a(this.el).triggerHandler(new a.Event("handmove",d));"undefined"==typeof this.swipeSector&&(this.config.decideOnFirst||Math.pow(this.config.swipeMinDistance,2)<c*c+k*k)&&(this.swipeSector=parseInt(180*
Math.atan2(k,c)/Math.PI/90*this.config.swipeSectors,10),this.swipeSector=Math.min(this.swipeSector,this.config.swipeSectors-1));"undefined"!=typeof this.swipeSector&&a(this.el).triggerHandler(new a.Event("handswipe",d));1<this.fingers&&a(this.el).triggerHandler(new a.Event("handtransform",d))}};e.fingerUp=function(d){var c=d.id;if(this.hasFinger(c)){var g=this.getFinger(c);g.x=d.x;g.y=d.y;var e=b[c].x-d.x;d=b[c].y-d.y;this.stop={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};
this.offset={x:this.stop.center.x-this.start.center.x,y:this.stop.center.y-this.start.center.y};this.center=this.stop.center;this.rotation=this.stop.rotation-this.start.rotation;this.distance=this.stop.distance-this.start.distance;e=new a.Event("handstop",{dx:e,dy:d,finger:g,gesture:this});a(this.el).triggerHandler(e);this.fingers--;delete this.offset;delete this.rotation;delete this.distance;delete this.swipeSector;e.isDefaultPrevented()?(g=a.inArray(g.id,this.ordered),this.ordered.splice(g,1),delete this.finger[c]):
(this.finger={},this.fingers=0,this.ordered.length=0);g=a.inArray(this,f[c]);-1!=g&&f[c].splice(g,1);0==f[c].length&&(delete b[c],delete f[c])}};e.getCenter=function(){var a={x:0,y:0},c;for(c in this.finger){var b=this.finger[c];a.x+=b.x;a.y+=b.y}this.fingers&&(a.x/=this.fingers,a.y/=this.fingers);return a};e.getRotation=function(){if(2>this.fingers)return 0;for(var a=0,c=0,b=0,f=0,e=this.ordered.length;f<e;f++)for(var k=this.finger[this.ordered[f]],h=f+1;h<e;h++){b++;var l=this.finger[this.ordered[h]],
a=a+(l.x-k.x),c=c+(l.y-k.y)}return 180*Math.atan2(c/b,a/b)/Math.PI};e.getDistance=function(){if(2>this.fingers)return 0;for(var a=0,c=0,b=0,f=0,e=this.ordered.length;f<e;f++)for(var k=this.finger[this.ordered[f]],h=f+1;h<e;h++){b++;var l=this.finger[this.ordered[h]],a=a+Math.abs(l.x-k.x),c=c+Math.abs(l.y-k.y)}a/=b;c/=b;return Math.sqrt(a*a+c*c)};e.hasFinger=function(a){return a in this.finger};e.getFinger=function(a){return this.finger[a]}})(OCBNET.Gestures.prototype);a.fn.gesture=function(b){a(this).each(function(d,
c){d=a(c).data("gesture");if("undefined"==typeof d)d=new OCBNET.Gestures(c,b),a(c).data("gesture",d);else{if(0<d.fingers)throw"fatal: live config change";a.extend(d.config,b,!0)}});return this}})(jQuery);
(function(a){"ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||(function(b){b.init.push(function(b){var h=this;a(b).bind("mousedown",function(b){var e=a(b.currentTarget).data("gesture");e!==h&&eval("alert('assertion')");b=new a.Event("fingerdown",{type:"mouse",id:b.which,x:b.screenX,y:b.screenY,originalEvent:b});e.fingerDown(b)})})}(OCBNET.Gestures.prototype),a(document).bind("mouseup trapmouseup",function(b){0>b.clientX||0>b.clientY||b.clientX>a(window).width()||
b.clientY>a(window).height()?(b=new a.Event("fingersup",{type:"mouse",x:b.screenX,y:b.screenY,originalEvent:b}),OCBNET.Gestures.fingersup(b)):(b=new a.Event("fingerup",{type:"mouse",id:b.which,x:b.screenX,y:b.screenY,originalEvent:b}),OCBNET.Gestures.fingerup(b))}),a(document).bind("mousemove",function(b){b=a.Event("fingersmove",{type:"mouse",x:b.screenX,y:b.screenY,originalEvent:b});OCBNET.Gestures.fingersmove(b)}))})(jQuery);
(function(a){!("ontouchstart"in window)||window.PointerEvent||window.navigator.msPointerEnabled||window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled||window.navigator.maxTouchPoints||(function(b){b.init.push(function(b){var h=this;a(b).bind("touchstart",function(b){var e=b.originalEvent.changedTouches||[],d=a(b.currentTarget).data("gesture");d!==h&&eval("alert('assertion')");a(e).each(function(c,g){c=new a.Event("fingerdown",{type:"touch",x:g.clientX||g.screenX,y:g.clientY||g.screenY,
id:g.identifier,originalEvent:b});d.fingerDown(c)});d.config.hatchTouchDown||b.preventDefault()});a(b).bind("handswipe",function(a){2==a.gesture.config.swipeSectors&&(0===a.gesture.swipeSector&&a.gesture.config.native.panY&&a.preventDefault(),1===a.gesture.swipeSector&&a.gesture.config.native.panX&&a.preventDefault())})})}(OCBNET.Gestures.prototype),a(document).bind("touchend touchcancel",function(b){a(b.originalEvent.changedTouches||[]).each(function(k,h){k=a.Event("fingerup",{type:"touch",x:h.clientX||
h.screenX,y:h.clientY||h.screenY,id:h.identifier,originalEvent:b});OCBNET.Gestures.fingerup(k)})}),a(document).bind("touchmove",function(b){a(b.originalEvent.changedTouches||[]).each(function(k,h){k=a.Event("fingermove",{type:"touch",x:h.clientX||h.screenX,y:h.clientY||h.screenY,id:h.identifier,originalEvent:b});OCBNET.Gestures.fingermove(k)})}))})(jQuery);
(function(a){function b(b){var c=b.originalEvent,g=a(b.currentTarget).data("gesture");g!==this&&eval("alert('assertion')");c=new a.Event("fingerdown",{type:"pointer",x:c.pageX,y:c.pageY,id:c.pointerId,originalEvent:b});g.fingerDown(c);g.config.hatchPointerDown||b.preventDefault()}function k(b){var c=b.originalEvent;b=a.Event("fingermove",{type:"pointer",x:c.pageX,y:c.pageY,id:c.pointerId,originalEvent:b});OCBNET.Gestures.fingermove(b)}function h(b){var c=b.originalEvent;b=new a.Event("fingerup",{type:"pointer",
x:c.pageX,y:c.pageY,id:c.pointerId,originalEvent:b});OCBNET.Gestures.fingerup(b)}if(window.PointerEvent||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints){var f={up:"MSPointerUp",move:"MSPointerMove",down:"MSPointerDown",cancel:"MSPointerCancel",action:"ms-touch-action"};(window.PointerEvent||window.navigator.pointerEnabled)&&window.navigator.maxTouchPoints&&(f={up:"pointerup",move:"pointermove",down:"pointerdown",
cancel:"pointercancel",action:"touch-action"});(function(d){d.init.push(function(c){var d=[],e=this.config.native||{};e.panY&&d.push("pan-y");e.panX&&d.push("pan-x");0==d.length&&d.push("none");e=a.proxy(b,this);a(c).bind(f.down,e).css(f.action,d.join(" "))})})(OCBNET.Gestures.prototype);var e=[f.up,f.cancel].join(" ");a(document).bind(e,h);a(document).bind(f.move,k)}})(jQuery);
