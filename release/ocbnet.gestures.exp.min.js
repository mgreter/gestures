(function(){var a={add:function(a){var k=a.handler;a.handler=function(a){var b=k.call(this,a);if(0==b||a.isPropagationStopped()){var f=a.type,d=a.isTrigger,c=a.isPropagationStopped,h=a.isImmediatePropagationStopped;a.type="trap"+a.type;a.isPropagationStopped=function(){return!1};a.isImmediatePropagationStopped=function(){return!1};jQuery(a.currentTarget).parent().trigger(a);a.type=f;a.isTrigger=d;c&&a.stopPropagation();h&&a.stopImmediatePropagation();if("undefined"!=typeof b)return b}}}};"onmousedown"in
window&&(jQuery.event.special.mouseup=a,jQuery.event.special.mouseout=a,jQuery.event.special.mouseover=a,jQuery.event.special.mousemove=a,jQuery.event.special.mousedown=a);"ontouchstart"in window&&(jQuery.event.special.touchend=a,jQuery.event.special.touchmove=a,jQuery.event.special.touchstart=a,jQuery.event.special.touchcancel=a);window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints?(jQuery.event.special.pointerup=a,jQuery.event.special.pointermove=a,jQuery.event.special.pointerdown=
a,jQuery.event.special.pointercancel=a):window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints&&(jQuery.event.special.MSPointerUp=a,jQuery.event.special.MSPointerMove=a,jQuery.event.special.MSPointerDown=a,jQuery.event.special.MSPointerCancel=a)})();if("undefined"==typeof OCBNET)var OCBNET={};var isChromium=window.chrome,vendorName=window.navigator.vendor,decideScrollOrPanOnFirst=null!==isChromium&&"Google Inc."===vendorName;
(function(a){var b={},k=[],g=0,e={};OCBNET.Gestures=function(f,d){this.el=f;this.config=a.extend({"native":{},swipeSectors:2,swipeMinDistance:15,decideOnFirst:decideScrollOrPanOnFirst},d,!0);this.id=g++;k.push(this);this.maximum=this.fingers=0;this.finger={};this.ordered=[];this.surface=e;a(f).bind("dragstart",function(){return!1});for(var c=0,h=this.init.length;c<h;c++)this.init[c].apply(this,arguments)};OCBNET.Gestures.fingerup=function(a){for(var d=k.length;d--;)k[d].fingerUp(a);b[a.id]&&(b[a.id].x=
a.x,b[a.id].y=a.y)};OCBNET.Gestures.fingermove=function(a){var d=e[a.id];if("undefined"!=typeof d){for(var c=0,h=d.length;c<h&&(d[c].fingerMove(a),!a.isPropagationStopped());c++);b[a.id].x=a.x;b[a.id].y=a.y}};OCBNET.Gestures.fingersmove=function(b){for(var d in e){var c=a.Event("fingermove",{id:d,x:b.x,y:b.y,originalEvent:b});OCBNET.Gestures.fingermove(c)}};OCBNET.Gestures.fingersup=function(b){for(var d=k.length;d--;)for(var c in k[d].finger){var h=a.Event("fingerup",{id:c,x:b.x,y:b.y,originalEvent:b});
k[d].fingerUp(h)}};OCBNET.Gestures.Finger=function(a){this.id=a.id;this.x=a.x;this.y=a.y};(function(f){f.init=[];f.fingerDown=function(d){var c=new OCBNET.Gestures.Finger(d);"undefined"==typeof b[d.id]&&(b[d.id]=new OCBNET.Gestures.Finger(d));d=new a.Event("handstart",{dx:0,dy:0,finger:c,gesture:this,originalEvent:d});a(this.el).triggerHandler(d);d.isDefaultPrevented()||this.hasFinger(c.id)||(this.fingers++,this.maximum<this.fingers&&(this.maximum=this.fingers),this.ordered.push(c.id),this.finger[c.id]=
c,this.start={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()},this.offset={x:0,y:0},this.center=this.start.center,this.distance=this.rotation=0,e[c.id]||(e[c.id]=[]),e[c.id].push(this),this.move=a.extend({},this.start))};f.fingerMove=function(d){var c=d.id;if(this.hasFinger(c)){var h=this.getFinger(c);h.x=d.x;h.y=d.y;var e=b[c].x-d.x,f=b[c].y-d.y;this.move={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};this.offset={x:this.move.center.x-
this.start.center.x,y:this.move.center.y-this.start.center.y};this.center=this.move.center;this.rotation=this.move.rotation-this.start.rotation;this.distance=this.move.distance-this.start.distance;var c=Math.abs(this.offset.x),g=Math.abs(this.offset.y);d={dx:e,dy:f,finger:h,gesture:this,originalEvent:d};a(this.el).triggerHandler(new a.Event("handmove",d));"undefined"==typeof this.swipeSector&&(this.config.decideOnFirst||Math.pow(this.config.swipeMinDistance,2)<c*c+g*g)&&(h=180*Math.atan2(g,c)/Math.PI,
this.swipeSector=parseInt(h/90*this.config.swipeSectors,10),this.swipeSector=Math.min(this.swipeSector,this.config.swipeSectors-1));"undefined"!=typeof this.swipeSector&&a(this.el).triggerHandler(new a.Event("handswipe",d));1<this.fingers&&a(this.el).triggerHandler(new a.Event("handtransform",d))}};f.fingerUp=function(d){var c=d.id;if(this.hasFinger(c)){var h=this.getFinger(c);h.x=d.x;h.y=d.y;var f=b[c].x-d.x;d=b[c].y-d.y;this.stop={center:this.getCenter(),rotation:this.getRotation(),distance:this.getDistance()};
this.offset={x:this.stop.center.x-this.start.center.x,y:this.stop.center.y-this.start.center.y};this.center=this.stop.center;this.rotation=this.stop.rotation-this.start.rotation;this.distance=this.stop.distance-this.start.distance;f=new a.Event("handstop",{dx:f,dy:d,finger:h,gesture:this});a(this.el).triggerHandler(f);this.fingers--;delete this.offset;delete this.rotation;delete this.distance;delete this.swipeSector;f.isDefaultPrevented()?(h=a.inArray(h.id,this.ordered),this.ordered.splice(h,1),delete this.finger[c]):
(this.finger={},this.fingers=0,this.ordered.length=0);h=a.inArray(this,e[c]);-1!=h&&e[c].splice(h,1);0==e[c].length&&(delete b[c],delete e[c])}};f.getCenter=function(){var a={x:0,y:0},c;for(c in this.finger){var b=this.finger[c];a.x+=b.x;a.y+=b.y}this.fingers&&(a.x/=this.fingers,a.y/=this.fingers);return a};f.getRotation=function(){if(2>this.fingers)return 0;for(var a=0,c=0,b=0,e=0,f=this.ordered.length;e<f;e++)for(var g=this.finger[this.ordered[e]],k=e+1;k<f;k++){b++;var l=this.finger[this.ordered[k]],
a=a+(l.x-g.x),c=c+(l.y-g.y)}return 180*Math.atan2(c/b,a/b)/Math.PI};f.getDistance=function(){if(2>this.fingers)return 0;for(var a=0,c=0,b=0,e=0,f=this.ordered.length;e<f;e++)for(var g=this.finger[this.ordered[e]],k=e+1;k<f;k++){b++;var l=this.finger[this.ordered[k]],a=a+Math.abs(l.x-g.x),c=c+Math.abs(l.y-g.y)}a/=b;c/=b;return Math.sqrt(a*a+c*c)};f.hasFinger=function(a){return a in this.finger};f.getFinger=function(a){return this.finger[a]}})(OCBNET.Gestures.prototype);a.fn.gesture=function(b){a(this).each(function(d,
c){var e=a(c).data("gesture");if("undefined"==typeof e)e=new OCBNET.Gestures(c,b),a(c).data("gesture",e);else{if(0<e.fingers)throw"fatal: live config change";a.extend(e.config,b,!0)}});return this}})(jQuery);
(function(a){"ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||(function(b){b.init.push(function(b){var g=this;a(b).bind("mousedown",function(b){var f=a(b.currentTarget).data("gesture");f!==g&&eval("alert('assertion')");b=new a.Event("fingerdown",{type:"mouse",id:b.which,x:b.screenX,y:b.screenY,originalEvent:b});f.fingerDown(b)})})}(OCBNET.Gestures.prototype),a(document).bind("mouseup trapmouseup",function(b){0>b.clientX||0>b.clientY||b.clientX>a(window).width()||
b.clientY>a(window).height()?(b=new a.Event("fingersup",{type:"mouse",x:b.screenX,y:b.screenY,originalEvent:b}),OCBNET.Gestures.fingersup(b)):(b=new a.Event("fingerup",{type:"mouse",id:b.which,x:b.screenX,y:b.screenY,originalEvent:b}),OCBNET.Gestures.fingerup(b))}),a(document).bind("mousemove",function(b){b=a.Event("fingersmove",{type:"mouse",x:b.screenX,y:b.screenY,originalEvent:b});OCBNET.Gestures.fingersmove(b)}))})(jQuery);
(function(a){"ontouchstart"in window&&!(window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints)&&(function(b){b.init.push(function(b){var g=this;a(b).bind("touchstart",function(b){var f=b.originalEvent.changedTouches||[],d=a(b.currentTarget).data("gesture");d!==g&&eval("alert('assertion')");a(f).each(function(c,h){var f=new a.Event("fingerdown",{type:"touch",x:h.clientX||h.screenX,y:h.clientY||h.screenY,id:h.identifier,originalEvent:b});d.fingerDown(f)})});a(b).bind("handswipe",function(a){2==
a.gesture.config.swipeSectors&&(0===a.gesture.swipeSector&&a.gesture.config["native"].panY&&a.preventDefault(),1===a.gesture.swipeSector&&a.gesture.config["native"].panX&&a.preventDefault())})})}(OCBNET.Gestures.prototype),a(document).bind("touchend touchcancel",function(b){a(b.originalEvent.changedTouches||[]).each(function(k,g){var e=a.Event("fingerup",{type:"touch",x:g.clientX||g.screenX,y:g.clientY||g.screenY,id:g.identifier,originalEvent:b});OCBNET.Gestures.fingerup(e)})}),a(document).bind("touchmove",
function(b){a(b.originalEvent.changedTouches||[]).each(function(k,g){var e=a.Event("fingermove",{type:"touch",x:g.clientX||g.screenX,y:g.clientY||g.screenY,id:g.identifier,originalEvent:b});OCBNET.Gestures.fingermove(e)})}))})(jQuery);
(function(a){function b(b){var c=b.originalEvent,e=a(b.currentTarget).data("gesture");e!==this&&eval("alert('assertion')");c=new a.Event("fingerdown",{type:"pointer",x:c.pageX,y:c.pageY,id:c.pointerId,originalEvent:b});e.fingerDown(c);e.config.hatchPointerDown||b.preventDefault()}function k(b){var c=b.originalEvent;b=a.Event("fingermove",{type:"pointer",x:c.pageX,y:c.pageY,id:c.pointerId,originalEvent:b});OCBNET.Gestures.fingermove(b)}function g(b){var c=b.originalEvent;b=new a.Event("fingerup",{type:"pointer",
x:c.pageX,y:c.pageY,id:c.pointerId,originalEvent:b});OCBNET.Gestures.fingerup(b)}if(window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints){var e={up:"MSPointerUp",move:"MSPointerMove",down:"MSPointerDown",cancel:"MSPointerCancel",action:"ms-touch-action"};window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints&&(e={up:"pointerup",move:"pointermove",down:"pointerdown",cancel:"pointercancel",action:"touch-action"});
(function(d){d.init.push(function(c){var d=[],f=this.config["native"]||{};f.panY&&d.push("pan-y");f.panX&&d.push("pan-x");0==d.length&&d.push("none");f=a.proxy(b,this);a(c).bind(e.down,f).css(e.action,d.join(" "))})})(OCBNET.Gestures.prototype);var f=[e.up,e.cancel].join(" ");a(document).bind(f,g);a(document).bind(e.move,k)}})(jQuery);
